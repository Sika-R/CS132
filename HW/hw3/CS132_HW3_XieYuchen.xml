<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
//clock x1;
chan CallWaiter;
broadcast chan Order;
chan Serve;
</declaration><template><name x="5" y="5">Customer</name><declaration>// Place local declarations here.
clock x;
int patience;</declaration><location id="id0" x="-392" y="-712"><name x="-402" y="-742">LeavewithAnger</name></location><location id="id1" x="-184" y="-576"><name x="-194" y="-606">Eat</name><urgent/></location><location id="id2" x="-184" y="-688"><name x="-194" y="-718">LeaveinPeace</name></location><location id="id3" x="-394" y="-622"><name x="-378" y="-630">Angry</name></location><location id="id4" x="-394" y="-454"><name x="-426" y="-438">WaitforFood</name></location><location id="id5" x="-584" y="-584"><name x="-664" y="-592">CallServer</name></location><location id="id6" x="-584" y="-688"><name x="-594" y="-718">GetSeated</name><label kind="invariant" x="-640" y="-696">x &lt;= 5</label></location><init ref="id6"/><transition><source ref="id1"/><target ref="id2"/></transition><transition><source ref="id3"/><target ref="id1"/><label kind="guard" x="-304" y="-624">x &lt;= patience</label><label kind="synchronisation" x="-248" y="-608">Serve?</label></transition><transition><source ref="id4"/><target ref="id3"/><label kind="select" x="-376" y="-584">p : int[1, 5]</label><label kind="guard" x="-376" y="-568">x &gt; patience</label><label kind="assignment" x="-376" y="-552">x = 0,
patience = p</label><nail x="-384" y="-464"/><nail x="-384" y="-608"/></transition><transition><source ref="id4"/><target ref="id1"/><label kind="guard" x="-256" y="-536">x &lt;= patience</label><label kind="synchronisation" x="-224" y="-552">Serve?</label></transition><transition><source ref="id3"/><target ref="id4"/><label kind="select" x="-496" y="-592">p : int[10, 15]</label><label kind="synchronisation" x="-456" y="-544">Order?</label><label kind="assignment" x="-488" y="-576">x = 0,
patience = p</label><nail x="-408" y="-608"/><nail x="-408" y="-472"/></transition><transition><source ref="id3"/><target ref="id0"/><label kind="guard" x="-392" y="-688">x &gt; patience</label></transition><transition><source ref="id5"/><target ref="id3"/><label kind="select" x="-544" y="-672">p : int[1, 5]</label><label kind="guard" x="-544" y="-656">x &gt; patience</label><label kind="assignment" x="-544" y="-640">x = 0,
patience = p</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="select" x="-616" y="-552">p : int[10, 15]</label><label kind="synchronisation" x="-528" y="-496">Order?</label><label kind="assignment" x="-576" y="-536">x = 0,
patience = p</label></transition><transition><source ref="id6"/><target ref="id5"/><label kind="select" x="-664" y="-672">p : int[1, 5]</label><label kind="synchronisation" x="-672" y="-648">CallWaiter!</label><label kind="assignment" x="-672" y="-624">x = 0,
patience = p</label></transition></template><template><name>Server</name><parameter>int max_response</parameter><declaration>clock x;</declaration><location id="id7" x="-1112" y="-248"><name x="-1192" y="-256">GetCalled</name><label kind="invariant" x="-1240" y="-240">x &lt;= max_response</label></location><location id="id8" x="-1112" y="-80"><name x="-1144" y="-56">OrderSent</name></location><location id="id9" x="-1112" y="-160"><name x="-1096" y="-176">TakeOrder</name><urgent/></location><location id="id10" x="-1112" y="-328"><name x="-1122" y="-358">Wait</name></location><init ref="id10"/><transition><source ref="id7"/><target ref="id9"/><label kind="guard" x="-1104" y="-200">x &gt;= 1</label></transition><transition><source ref="id10"/><target ref="id7"/><label kind="synchronisation" x="-1192" y="-304">CallWaiter?</label><label kind="assignment" x="-1152" y="-288">x = 0</label></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="-1160" y="-128">Order!</label></transition></template><template><name>Chef</name><parameter>int max_prepare</parameter><declaration>clock x;</declaration><location id="id11" x="-2104" y="-1104"><name x="-2136" y="-1088">ServeFood</name></location><location id="id12" x="-2104" y="-1216"><label kind="invariant" x="-2096" y="-1208">x &lt;= max_prepare</label></location><location id="id13" x="-2104" y="-1336"><name x="-2114" y="-1366">Rest</name></location><init ref="id13"/><transition><source ref="id12"/><target ref="id11"/><label kind="guard" x="-2160" y="-1168">x &gt;= 10</label><label kind="synchronisation" x="-2152" y="-1152">Serve!</label></transition><transition><source ref="id13"/><target ref="id12"/><label kind="synchronisation" x="-2096" y="-1280">Order?</label><label kind="assignment" x="-2096" y="-1264">x = 0</label></transition></template><system>// Place template instantiations here.
//Process = Template();
p1 = Customer();
p2 = Server(1);
p3 = Chef(10);


// List one or more processes to be composed into a system.
//system Process;
system p1,p2, p3;
</system></nta>